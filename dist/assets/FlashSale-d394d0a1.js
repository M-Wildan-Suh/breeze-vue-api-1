import{u as h,r,i as u,b as f,o as U,g as P,j as n,k as S,d as c,f as B,v as C,w as g,l as v,n as F,c as j,_ as A}from"./index-a8eec92e.js";/* empty css             */import{_ as E}from"./ConfirmDelete-aeff83de.js";import{_ as M}from"./AddUser-bf6ffba3.js";/* empty css                   */const N={class:"relative"},D={class:"bg-ezzora-100 p-5 rounded-lg space-y-3 border"},T={class:"flex justify-between items-center"},L={class:"flex gap-3 items-center justify-center text-xs"},q={__name:"FlashSaleTable",props:{users:Array,fetchUsers:Function},setup(d){const i=h(),s=d,t=r(""),e=r(1),m=r(10),y=[{key:"name",title:"Product Name"},{key:"",title:"Product Price"},{key:"",title:"Discount"},{key:"",title:"Stock"},{key:"id",title:"Action",align:"center"}],w=u(()=>Math.ceil(x.value.length/m.value)),x=u(()=>s.users.filter(l=>l.name.toLowerCase().includes(t.value))),p=r(!1),_=r([]),b=u(()=>_.value),k=async l=>{await i.addUser(l,_,p),v(()=>{s.fetchUsers()},s.users)},z=async l=>{await i.deleteUser(l,p),v(()=>{s.fetchUsers()},s.users)};return(l,o)=>{const $=f("v-data-table"),V=f("v-pagination");return U(),P("div",N,[n(S,{class:"w-full",errors:b.value},null,8,["errors"]),c("div",D,[c("div",T,[n(M,{method:k}),B(c("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),class:"rounded-lg text-sm min-w-52",placeholder:"Search User"},null,512),[[C,t.value]])]),n($,{page:e.value,"onUpdate:page":o[1]||(o[1]=a=>e.value=a),search:t.value,headers:y,items:d.users,"hide-default-footer":"","header-props":{class:"bg-ezzora-200"},"item-key":"id",class:"border shadow-lg"},{"item.id":g(({item:a})=>[c("div",L,[n(E,{type:"User",id:a.id,method:z},null,8,["id"])])]),_:1},8,["page","search","items"]),n(V,{modelValue:e.value,"onUpdate:modelValue":o[2]||(o[2]=a=>e.value=a),length:w.value,class:"bg-ezzora-200 rounded-lg","total-visible":5},null,8,["modelValue","length"])])])}}},G={class:"w-full space-y-5"},H=c("p",{class:"text-2xl font-bold text-ezzora-900"},"Flash Sale",-1),R={__name:"FlashSale",setup(d){const i=h(),s=r([]);r(null),F(async()=>{await t()});async function t(){await i.userAll(),s.value=i.allUser.map(e=>({id:e.id,name:e.name,email:e.email}))}return(e,m)=>(U(),j(A,null,{default:g(()=>[c("div",G,[H,n(q,{users:s.value,fetchUsers:t},null,8,["users"])])]),_:1}))}};export{R as default};
