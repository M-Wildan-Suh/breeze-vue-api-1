import{r as c,x as q,C as w,c as x,d as l,m as i,h as e,E as U,O as L,F as S,p as D,t as f,G as T,f as _,w as $,g as N,e as B,q as Q,s as M,y as F}from"./index-c1909b7c.js";import{Q as E,s as j,J as O}from"./jszip.min-65679adc.js";const z={class:"space-y-4"},J={class:"flex justify-between items-center"},R=e("option",{value:"",selected:""},"All",-1),G={class:"rounded-lg"},Fe={__name:"TotalProductTable",props:{categories:Array,data:Array},setup(u){const p=u,m=c(""),v=[{key:"id",title:"Product Name"},{key:"id",title:"Stock"},{key:"id",title:"Sold"}],h=c(""),g=c(1),y=c(10);return q(()=>{w(()=>Math.ceil(n.value.length/y.value));const n=w(()=>p.data.filter(r=>r.id.toLowerCase().includes(searchData.value)))}),(n,r)=>{const A=x("v-data-table"),k=x("v-pagination");return l(),i("div",z,[e("div",J,[U(e("select",{name:"",id:"","onUpdate:modelValue":r[0]||(r[0]=t=>m.value=t),class:"border rounded-lg dark:!border-typography-2 text-sm shadow-lg bg-light-primary-1 dark:bg-dark-primary-1"},[R,(l(!0),i(S,null,D(u.categories,(t,o)=>(l(),i("option",{value:"",key:o},f(t.sub_category_name),1))),128))],512),[[L,m.value]]),U(e("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=t=>h.value=t),class:"rounded-lg text-sm min-w-52 dark:!border-gray-500 border !border-typography-2/20 shadow-lg bg-light-primary-1 dark:bg-dark-primary-1 text-typography-3 dark:text-white",placeholder:"Search Items"},null,512),[[T,h.value]])]),e("div",G,[_(A,{page:g.value,"onUpdate:page":r[2]||(r[2]=t=>g.value=t),search:h.value,headers:v,items:u.data,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},null,8,["page","search","items"])]),_(k,{modelValue:g.value,"onUpdate:modelValue":r[3]||(r[3]=t=>g.value=t),length:n.pageCount,class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])}}},W={class:"space-y-4"},Z={class:"flex justify-between items-center"},H=e("option",{value:"",selected:""},"All",-1),K={class:"rounded-lg"},X=e("p",null,"0",-1),Oe={__name:"WarehouseStockTable",props:{categories:Array,data:Array},setup(u){const p=u,m=p.data.stock,v=p.data.products;console.log(m,v,p.data);const h=c(""),g=[{key:"product_name",title:"Product Name"},{key:"stock",title:"Stock"},{key:"sold",title:"Sold"}],y=c(""),n=c(1),r=c(10);q(()=>{w(()=>Math.ceil(A.value.length/r.value))});const A=w(()=>v.filter(k=>k.id.toString().toLowerCase().includes(y.value.toLowerCase())));return(k,t)=>{const o=x("v-data-table"),d=x("v-pagination");return l(),i("div",W,[e("div",Z,[U(e("select",{name:"",id:"","onUpdate:modelValue":t[0]||(t[0]=s=>h.value=s),class:"border rounded-lg dark:!border-typography-2 text-sm shadow-lg bg-light-primary-1 dark:bg-dark-primary-1"},[H,(l(!0),i(S,null,D(u.categories,(s,b)=>(l(),i("option",{value:"",key:b},f(s.sub_category_name),1))),128))],512),[[L,h.value]]),U(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>y.value=s),class:"rounded-lg text-sm min-w-52 dark:!border-gray-500 border !border-typography-2/20 shadow-lg bg-light-primary-1 dark:bg-dark-primary-1 text-typography-3 dark:text-white",placeholder:"Search Items"},null,512),[[T,y.value]])]),e("div",K,[_(o,{page:n.value,"onUpdate:page":t[2]||(t[2]=s=>n.value=s),search:y.value,headers:g,items:u.data.products,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},{"item.stock":$(({item:s})=>[e("p",null,f(s.stock.filter(b=>b.product_stock_status=="warehouse").length),1)]),"item.sold":$(({item:s})=>[X]),_:1},8,["page","search","items"])]),_(d,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=s=>n.value=s),length:k.pageCount,class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])}}},Y={class:"space-y-4"},ee={class:"flex justify-between items-center"},te=e("option",{value:"",selected:""},"All",-1),ae={class:"rounded-lg"},ze={__name:"AgentStockTable",props:{categories:Array,data:Array},setup(u){const p=u,m=c(""),v=[{key:"id",title:"Product Name"},{key:"id",title:"Stock"},{key:"id",title:"Sold"}],h=c(""),g=c(1),y=c(10);return q(()=>{w(()=>Math.ceil(n.value.length/y.value));const n=w(()=>p.data.filter(r=>r.id.toLowerCase().includes(searchData.value)))}),(n,r)=>{const A=x("v-data-table"),k=x("v-pagination");return l(),i("div",Y,[e("div",ee,[U(e("select",{name:"",id:"","onUpdate:modelValue":r[0]||(r[0]=t=>m.value=t),class:"border rounded-lg dark:!border-typography-2 text-sm shadow-lg bg-light-primary-1 dark:bg-dark-primary-1"},[te,(l(!0),i(S,null,D(u.categories,(t,o)=>(l(),i("option",{value:"",key:o},f(t.sub_category_name),1))),128))],512),[[L,m.value]]),U(e("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=t=>h.value=t),class:"rounded-lg text-sm min-w-52 dark:!border-gray-500 border !border-typography-2/20 shadow-lg bg-light-primary-1 dark:bg-dark-primary-1 text-typography-3 dark:text-white",placeholder:"Search Items"},null,512),[[T,h.value]])]),e("div",ae,[_(A,{page:g.value,"onUpdate:page":r[2]||(r[2]=t=>g.value=t),search:h.value,headers:v,items:u.data,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},null,8,["page","search","items"])]),_(k,{modelValue:g.value,"onUpdate:modelValue":r[3]||(r[3]=t=>g.value=t),length:n.pageCount,class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])}}},re={class:"space-y-4"},oe={class:"flex justify-between items-center"},se=e("option",{value:"",selected:""},"All",-1),de={class:"rounded-lg"},le={class:"text-center"},ne={class:"text-start line-clamp-2"},ie={class:"text-center"},ce={key:0},pe={key:1},ue={class:"grid grid-cols-1 py-2"},ge={class:"line-clamp-2"},he=["onClick"],ye=e("i",{class:"fa-solid fa-qrcode"},null,-1),me=e("p",{class:"whitespace-nowrap"},"Qr Code",-1),be=e("i",{class:"fa-solid fa-qrcode"},null,-1),_e=e("p",{class:"whitespace-nowrap"},"Qr Code",-1),ve=[be,_e],ke={class:"bg-light-primary-1 rounded-lg !max-h-[calc(100vh-20px)] overflow-y-scroll invisible-scrollbar"},fe={class:"flex justify-between items-center border-b py-3 px-6 sticky top-0 bg-light-primary-1"},we={class:"font-medium"},xe=e("span",{class:"text-lg text-typography-3 font-semibold"}," List Qr Code Products ",-1),Ce=["onClick"],Ve=e("i",{class:"fa-solid fa-x"},null,-1),$e=[Ve],Ue={class:"p-6 grid grid-cols-3 gap-3"},Ae={class:"col-span-3 grid grid-cols-4 gap-3"},Pe=["onClick"],Se=e("p",{class:"text-light-primary-1"}," Download All ",-1),De=e("i",{class:"fa-solid fa-download text-light-primary-1"},null,-1),qe=[Se,De],Le={class:"rounded-lg overflow-hidden"},Te={class:"flex justify-between items-center pt-3"},je={class:"text-center"},Be=["onClick"],Ee=e("i",{class:"fa-solid fa-download text-green-500"},null,-1),Ie=[Ee],Je={__name:"UntrackedProduct",props:{categories:Array,data:Array,products:Array},setup(u){const p=c(!1),m=u,v=c(""),h=[{key:"product_name",title:"Product Name",align:"center"},{key:"stock",title:"Stock",align:"center"},{key:"product_code_type",title:"Code Type",align:"center"},{key:"action",title:"Action",align:"center"}],g=w(()=>m.products.map(o=>{const d=o.stock.filter(s=>s.product_stock_status==="pending");return d.length>0?{...o,stock:d}:null}).filter(o=>o!==null)),y=c(""),n=c(1),r=c(10);q(()=>{w(()=>Math.ceil(o.value.length/r.value));const o=w(()=>m.data.filter(d=>d.id.toLowerCase().includes(searchData.value)))});const A=async o=>{p.value=!0,o.product_code?j.saveSvgAsPng(document.getElementById("qr-"+o.id),o.product_name+"-qrcode.png",{scale:10,width:0,height:0}):setErrors.value=Object.values(["Please enter the Product Code before proceeding."]).flat(),p.value=!1},k=async(o,d,s)=>{p.value=!0,console.log(document.getElementById("qr-unique-"+s)),j.saveSvgAsPng(document.getElementById("qr-unique-"+s),`${o}-${d}-qrcode.png`,{scale:10,width:0,height:0}),p.value=!1},t=async o=>{const d=new O,s=d.folder("qr_codes");p.value=!0;for(const b of o.stock){const C=document.getElementById("qr-unique-"+b.id);if(C){const a=await j.svgAsPngUri(C,{scale:10,width:0,height:0}),V=await(await fetch(a)).blob();s.file(`${o.product_name}-${b.product_code}.png`,V)}}d.generateAsync({type:"blob"}).then(b=>{const C=document.createElement("a");C.href=URL.createObjectURL(b),C.download="qr_codes.zip",C.click()}),p.value=!1};return(o,d)=>{const s=x("v-dialog"),b=x("v-data-table"),C=x("v-pagination");return l(),i("div",re,[_(N,{isLoading:p.value},null,8,["isLoading"]),e("div",oe,[U(e("select",{name:"",id:"","onUpdate:modelValue":d[0]||(d[0]=a=>v.value=a),class:"border rounded-lg dark:!border-typography-2 text-sm shadow-lg bg-light-primary-1 dark:bg-dark-primary-1"},[se,(l(!0),i(S,null,D(u.categories,(a,V)=>(l(),i("option",{value:"",key:V},f(a.sub_category_name),1))),128))],512),[[L,v.value]]),U(e("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=a=>y.value=a),class:"rounded-lg text-sm min-w-52 dark:!border-gray-500 border !border-typography-2/20 shadow-lg bg-light-primary-1 dark:bg-dark-primary-1 text-typography-3 dark:text-white",placeholder:"Search Items"},null,512),[[T,y.value]])]),e("div",de,[_(b,{page:n.value,"onUpdate:page":d[2]||(d[2]=a=>n.value=a),search:y.value,headers:h,items:g.value,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},{"item.product_name":$(({item:a})=>[e("div",le,[e("p",ne,f(a.product_name),1)])]),"item.product_code_type":$(({item:a})=>[e("div",ie,[a.product_code_type==="common_code"?(l(),i("p",ce," Common ")):(l(),i("p",pe,"Unique"))])]),"item.stock":$(({item:a})=>[e("div",ue,[e("p",ge,f(a.stock.length),1)])]),"item.action":$(({item:a})=>[a.product_code_type=="common_code"?(l(),i("button",{key:0,onClick:V=>A(a),class:"flex gap-2 items-center text-white bg-secondary-3 hover:bg-opacity-90 rounded-lg px-3 py-1 cursor-pointer text-sm"},[ye,me,a.product_code?(l(),B(E,{key:0,id:"qr-"+a.id,"render-as":"svg",width:"1000",height:"1000",class:"hidden",margin:"1",value:a.product_code},null,8,["id","value"])):Q("",!0)],8,he)):(l(),B(s,{key:1,"max-width":"1080"},{activator:$(({props:V})=>[e("button",M(V,{class:"flex gap-2 items-center text-white bg-secondary-3 hover:bg-opacity-90 rounded-lg px-3 py-1 cursor-pointer text-sm"}),ve,16)]),default:$(({isActive:V})=>[e("div",ke,[e("div",fe,[e("p",we,[xe,F(" "+f(a.voucher_name),1)]),e("button",{type:"button",class:"rounded-full flex items-center justify-center w-10 h-10 hover:bg-gray-100",onClick:P=>V.value=!1},$e,8,Ce)]),e("div",Ue,[e("div",Ae,[e("button",{onClick:P=>t(a),type:"button",class:"col-start-4 border w-full bg-secondary-3 hover:bg-opacity-90 rounded-lg px-3 py-1 flex justify-center items-center gap-3 shadow-lg"},qe,8,Pe)]),(l(!0),i(S,null,D(a.stock,(P,I)=>(l(),i("div",{key:I,class:"border rounded-lg p-3 bg-light-primary-2"},[e("div",Le,[_(E,{id:"qr-unique-"+P.id,"render-as":"svg",width:"1000",height:"1000",class:"w-full h-full",margin:"1",value:P.product_code},null,8,["id","value"])]),e("div",Te,[e("p",je,f(P.product_code),1),e("button",{type:"button",onClick:Ne=>k(a.product_name,P.product_code,P.id)},Ie,8,Be)])]))),128))])])]),_:2},1024))]),_:1},8,["page","search","items"])]),_(C,{modelValue:n.value,"onUpdate:modelValue":d[3]||(d[3]=a=>n.value=a),length:o.pageCount,class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])}}};export{Fe as _,Oe as a,ze as b,Je as c};
