import{r as o,C as l,c as u,d as S,m as A,f as r,J as D,h as e,w as d,i as m,R as x,E as N,G as P,t as R}from"./index-c1909b7c.js";import{_ as T}from"./ConfirmDelete-585e5a7b.js";import{u as U}from"./expense-96f373f4.js";const $={class:"relative"},j={class:"bg-light-primary-1 dark:bg-dark-primary-2 p-5 rounded-lg space-y-3 shadow-lg"},F={class:"flex justify-between items-center"},L=e("div",{class:"bg-secondary-3 text-white hover:bg-opacity-90 px-4 py-2 rounded-lg gap-1 flex items-center text-sm cursor-pointer shadow-lg"},[e("i",{class:"fa-solid fa-plus"}),e("p",null,"Add Expense")],-1),M={class:"flex gap-3 items-center justify-center text-xs"},G=["onClick"],I=e("div",{class:"flex gap-2 items-center text-white bg-secondary-3 hover:bg-opacity-90 rounded-lg px-3 py-1 cursor-pointer"},[e("i",{class:"fa-solid fa-download"})],-1),J=[I],q=e("div",{class:"flex gap-2 items-center text-white bg-secondary-2 hover:bg-opacity-90 rounded-lg px-3 py-1 cursor-pointer"},[e("i",{class:"fa-solid fa-pen"})],-1),z={class:""},W={__name:"CashFlowTable",props:{expenses:Array,fetchExpense:Function},setup(p){const c=U(),h=p,n=o(""),i=o(1),y=o(10),_=[{key:"expense_name",title:"Expense Name"},{key:"expense_category.category_name",title:"Expense Category"},{key:"expense_date",title:"Date Issues"},{key:"expense_cost",title:"Total Cost"},{key:"id",title:"Action",align:"center"}],v=l(()=>Math.ceil(b.value.length/y.value)),b=l(()=>h.expenses.filter(s=>s.expense_name.toLowerCase().includes(n.value)));function f(s){return s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const g=o(!1),k=o([]),w=l(()=>k.value),E=async s=>{await c.deleteExpense(s,g)},C=async s=>{await c.downloadExpense(s,g)};return(s,a)=>{const V=u("v-data-table"),B=u("v-pagination");return S(),A("div",$,[r(D,{class:"w-full",errors:w.value},null,8,["errors"]),e("div",j,[e("div",F,[r(m(x),{to:{name:"admin.expense.create"}},{default:d(()=>[L]),_:1}),N(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>n.value=t),class:"rounded-lg text-sm min-w-52 dark:!border-gray-500 border !border-typography-2/20 shadow-lg bg-light-primary-1 dark:bg-dark-primary-1 text-typography-3 dark:text-white",placeholder:"Search Expense"},null,512),[[P,n.value]])]),r(V,{page:i.value,"onUpdate:page":a[1]||(a[1]=t=>i.value=t),search:n.value,headers:_,items:p.expenses,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},{"item.id":d(({item:t})=>[e("div",M,[e("button",{type:"button",onClick:H=>C(t.id)},J,8,G),r(m(x),{to:{name:"admin.expense.edit",params:{id:t.id}}},{default:d(()=>[q]),_:2},1032,["to"]),r(T,{type:"Expense",id:t.id,method:E},null,8,["id"])])]),"item.expense_cost":d(({item:t})=>[e("div",z,[e("p",null,"Rp. "+R(f(t.expense_cost)),1)])]),_:1},8,["page","search","items"]),r(B,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=t=>i.value=t),length:v.value,class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])])}}};export{W as _};
