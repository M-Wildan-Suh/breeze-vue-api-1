import{r as o,a1 as I,C as d,x as S,U as $,c as m,d as g,e as j,w as r,f as l,J as F,h as e,t as s,s as L,m as v,p as M,F as O}from"./index-c1909b7c.js";import{_ as U}from"./PackingLayout-3c14fa63.js";import{_ as W}from"./SuccessMessage-50cc8be4.js";const A={class:"relative"},q={class:"bg-light-primary-1 dark:bg-dark-primary-2 p-5 rounded-lg space-y-3 shadow-lg"},J=e("p",{class:"text-lg dark:text-typography-1"}," Confirmed Orders List ",-1),Q={class:"flex flex-col gap-1 text-center"},R={class:"text-xs text-gray-400"},z={class:"flex flex-col gap-1 text-center"},G=["href"],H={class:"flex items-center justify-center group"},K={class:"py-1"},T={class:"bg-light-primary-1 border p-3 rounded-lg max-w-xl shadow-lg"},X={class:"divide-y"},Y={class:"border rounded-lg overflow-hidden"},Z={class:"w-full text-sm"},ee=e("thead",{class:"border-b bg-gray-100"},[e("tr",null,[e("td",{class:"px-2 py-1"}," Name "),e("td",{class:"px-2 py-1 text-center"}," Quantity "),e("td",{class:"px-2 py-1 text-center"}," Price ")])],-1),te={class:"px-2 py-1 line-clamp-2"},se={class:"px-2 py-1 text-center"},ae={class:"px-2 py-1 text-center"},re={class:"flex items-center justify-center group"},oe=["onClick"],ne=e("i",{class:"fa-solid fa-download"},null,-1),le=e("p",{class:"whitespace-nowrap text-center"}," Download Waybill ",-1),ie=[ne,le],_e={__name:"Confirmed",setup(ce){const p=o([]),u=I();o(!1);const f=o([]),x=d(()=>f.value),b=o([]),k=d(()=>b.value);S(async()=>{await u.paymentAll(),h()});const h=()=>{p.value=u.payments.filter(n=>n.status_proccess=="CONFIRMED")},y=o(""),i=o(1),w=o(10),C=[{key:"invoice_code",title:"Invoice Code"},{key:"name",title:"Name",align:"center"},{key:"courier",title:"Courier",align:"center"},{key:"item",title:"Items",align:"center"},{key:"status",title:"Status",align:"center"},{key:"action",title:"Action",align:"center"}],D=d(()=>Math.ceil(P.value.length/w.value)),P=d(()=>p.value.filter(n=>n.invoice_code.toLowerCase().includes(y.value))),N=async n=>{await u.downloadWaybill(n)};return $(()=>{h()}),(n,c)=>{const V=m("v-menu"),B=m("v-data-table"),E=m("v-pagination");return g(),j(U,{title:"Confirmed Orders"},{default:r(()=>[l(F,{class:"w-full",errors:x.value},null,8,["errors"]),l(W,{class:"w-full",messages:k.value},null,8,["messages"]),e("div",A,[e("div",q,[J,l(B,{page:i.value,"onUpdate:page":c[0]||(c[0]=t=>i.value=t),search:y.value,headers:C,items:p.value,"hide-default-footer":"","header-props":{class:"dark:bg-dark-primary-1 bg-light-primary-2 dark:!text-white border-b dark:!border-white/30"},"item-key":"id",class:"border dark:!border-typography-2/20 shadow-lg dark:!bg-dark-primary-1 !bg-light-primary-2 dark:!text-typography-1"},{"item.name":r(({item:t})=>[e("div",Q,[e("p",null,s(t.address.name),1),e("p",R,s(t.address.phone_number),1)])]),"item.courier":r(({item:t})=>[e("div",z,[e("p",null,s(t.courier_name)+" - "+s(t.courier_service_name),1),e("a",{href:t.link_tracking,target:"_blank",class:"text-blue-500 hover:underline"},s(t.waybill),9,G)])]),"item.item":r(({item:t})=>[e("div",H,[l(V,{"open-on-hover":"",location:"bottom"},{activator:r(({props:a})=>[e("p",L(a,{class:"rounded px-3 py-1 cursor-pointer"}),s(t.items.filter(_=>_.product_id!==null).length)+" Items ",17)]),default:r(()=>[e("div",K,[e("div",T,[e("div",X,[e("div",Y,[e("table",Z,[ee,e("tbody",null,[(g(!0),v(O,null,M(t.items.filter(a=>a.product_id!==null),(a,_)=>(g(),v("tr",{key:_},[e("td",te,s(a.name),1),e("td",se,s(a.quantity),1),e("td",ae,s(a.price),1)]))),128))])])])])])])]),_:2},1024)])]),"item.status":r(({item:t})=>[e("div",re,s(t.status_proccess),1)]),"item.action":r(({item:t})=>[e("button",{onClick:a=>N(t.invoice_code),class:"flex gap-2 items-center justify-center text-white bg-secondary-3 hover:bg-opacity-90 rounded-lg px-3 py-1 cursor-pointer text-sm shadow-lg w-min"},ie,8,oe)]),_:1},8,["page","search","items"]),l(E,{modelValue:i.value,"onUpdate:modelValue":c[1]||(c[1]=t=>i.value=t),length:D.value,class:"bg-light-primary-2 border !border-typography-2/20 shadow-lg rounded-lg dark:bg-dark-primary-1 dark:text-white","total-visible":5},null,8,["modelValue","length"])])])]),_:1})}}};export{_e as default};
