import{r as p,C as h,x as w,U as v,d as k,e as b,w as D,H as j,h as e,E as m,G as y,t as u,n as E,f as S}from"./index-c1909b7c.js";import{_ as $}from"./CashFlowTable-7e7ebb39.js";import{u as B}from"./expense-96f373f4.js";import"./ConfirmDelete-585e5a7b.js";const C={class:"w-full space-y-3"},F={class:"flex gap-4 mb-4 items-center"},V={class:"w-full"},M=e("p",{class:"text-typography-2"},"-",-1),R={class:"w-full"},U={class:"grid grid-cols-3 gap-3"},I={class:"h-20 w-full shadow-lg rounded-lg flex items-center px-3 justify-between bg-light-primary-1 dark:bg-dark-primary-2 dark:text-typography-1 border dark:!border-typography-2"},N=e("div",{class:"dark:bg-light-primary-1 dark:text-typography-2 rounded-full p-3 w-14 h-14 flex-none flex items-center justify-center"},[e("i",{class:"fa-solid fa-hand-holding-dollar text-3xl"})],-1),P={class:"flex flex-col justify-center items-center w-full"},T={class:"text-xl font-medium text-secondary-3"},z=e("p",{class:"text-sm"},"Income",-1),A={class:"h-20 w-full shadow-lg rounded-lg flex items-center px-3 justify-between bg-light-primary-1 dark:bg-dark-primary-2 dark:text-typography-1 border dark:!border-typography-2"},G=e("div",{class:"dark:bg-light-primary-1 dark:text-typography-2 rounded-full p-3 w-14 h-14 flex-none flex items-center justify-center"},[e("i",{class:"fa-solid fa-receipt text-3xl"})],-1),H={class:"flex flex-col justify-center items-center w-full"},L={class:"text-xl font-medium text-red-500"},Y=e("p",{class:"text-sm"},"Expense",-1),q={class:"h-20 w-full shadow-lg rounded-lg flex items-center px-3 justify-between bg-light-primary-1 dark:bg-dark-primary-2 dark:text-typography-1 border dark:!border-typography-2"},J=e("div",{class:"dark:bg-light-primary-1 dark:text-typography-2 rounded-full p-3 w-14 h-14 flex-none flex items-center justify-center"},[e("i",{class:"fa-solid fa-money-bill-trend-up text-3xl"})],-1),K={class:"flex flex-col justify-center items-center w-full"},O=e("p",{class:"text-sm"},"Profit/Loss",-1),te={__name:"Index",setup(Q){function d(s){return s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const f=B(),i=p([]),o=p(""),l=p(g());function g(){const s=new Date,t=new Date(s);t.setDate(s.getDate()+1);const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),_=String(t.getDate()).padStart(2,"0");return`${a}-${r}-${_}`}const x=h(()=>!o.value||!l.value?i.value:i.value.filter(s=>{const t=new Date(s.expense_date),a=new Date(o.value),r=new Date(l.value);return t>=a&&t<=r})),n=h(()=>{let s=0;x.value.forEach(r=>{s+=r.expense_cost});const t=0,a=t-s;return{income:t,expense:s,proloss:a}});w(async()=>{await f.expenseAll(),await c()});async function c(){i.value=f.expenses}return v(()=>{c()}),(s,t)=>(k(),b(j,{title:"Cash Flow"},{default:D(()=>[e("div",C,[e("div",F,[e("div",V,[m(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),class:"p-2 border rounded dark:bg-dark-primary-2 dark:!border-typography-2 dark:text-light-primary-1 shadow-lg text-sm w-full"},null,512),[[y,o.value]])]),M,e("div",R,[m(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=a=>l.value=a),class:"p-2 border rounded dark:bg-dark-primary-2 dark:!border-typography-2 dark:text-light-primary-1 shadow-lg text-sm w-full"},null,512),[[y,l.value]])])]),e("div",U,[e("div",I,[N,e("div",P,[e("p",T," Rp. "+u(d(n.value.income)),1),z])]),e("div",A,[G,e("div",H,[e("p",L," Rp. "+u(d(n.value.expense)),1),Y])]),e("div",q,[J,e("div",K,[e("p",{class:E(["text-xl font-medium",n.value.proloss>0?"text-secondary-3":"text-red-500"])}," Rp. "+u(d(n.value.proloss)),3),O])])]),S($,{expenses:x.value,fetchExpense:c},null,8,["expenses"])])]),_:1}))}};export{te as default};
