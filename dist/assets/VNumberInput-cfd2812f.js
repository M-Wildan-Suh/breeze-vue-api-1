import{aj as T,ak as E,al as j,am as q,an as H,C as i,ao as C,ap as L,U as G,aq as J,ar as O,as as N,f as a,at as p,au as b,F as g,s as Q,av as F}from"./index-c1909b7c.js";const W=T({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},...E(j(),["appendInnerIcon","prependInnerIcon"])},"VNumberInput"),_=q()({name:"VNumberInput",props:{...W()},emits:{"update:modelValue":e=>!0},setup(e,M){let{attrs:X,emit:Y,slots:l}=M;const t=H(e,"modelValue"),$=i(()=>C(e.step)),A=i(()=>t.value!=null?C(t.value):0),h=L(),c=i(()=>e.disabled||e.readonly||(h==null?void 0:h.isReadonly.value)),V=i(()=>c.value?!1:t.value==null?!0:t.value+e.step<=e.max),I=i(()=>c.value?!1:t.value==null?!0:t.value-e.step>=e.min);G(()=>{c.value||t.value!=null&&(t.value<e.min||t.value>e.max)&&(t.value=J(t.value,e.min,e.max))});const o=i(()=>e.hideInput?"stacked":e.controlVariant),B=i(()=>({click:k})),U=i(()=>({click:x}));function m(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(c.value)return;if(t.value==null){t.value=0;return}const f=Math.max(A.value,$.value);n?V.value&&(t.value=+(t.value+e.step).toFixed(f)):I.value&&(t.value=+(t.value-e.step).toFixed(f))}function k(n){n.stopPropagation(),m()}function x(n){n.stopPropagation(),m(!1)}function z(n){if(!(["Enter","ArrowLeft","ArrowRight","Backspace","Tab"].includes(n.key)||n.ctrlKey)){if(["ArrowDown"].includes(n.key)){n.preventDefault(),m(!1);return}if(["ArrowUp"].includes(n.key)){n.preventDefault(),m();return}/^[0-9\-+.]+$/.test(n.key)||n.preventDefault()}}function K(n){t.value=n?+n:void 0}function v(n){n.stopPropagation()}O(()=>{const{modelValue:n,...f}=N.filterProps(e);function y(){const u=o.value==="stacked"?"auto":"100%";return a("div",{class:"v-number-input__control"},[l.decrement?a(F,{key:"decrement-defaults",defaults:{VBtn:{disabled:!I.value,flat:!0,height:u,size:"small",icon:"$expand"}}},{default:()=>[l.decrement(U.value)]}):a(b,{disabled:!I.value,flat:!0,key:"decrement-btn",height:u,name:"decrement-btn",icon:"$expand",size:"small",tabindex:"-1",onClick:x,onMousedown:v},null),a(p,{vertical:o.value!=="stacked"},null),l.increment?a(F,{key:"increment-defaults",defaults:{VBtn:{disabled:!V.value,flat:!0,height:u,size:"small",icon:"$collapse"}}},{default:()=>[l.increment(B.value)]}):a(b,{disabled:!V.value,flat:!0,key:"increment-btn",height:u,name:"increment-btn",icon:"$collapse",onClick:k,onMousedown:v,size:"small",tabindex:"-1"},null)])}function w(){return!e.hideInput&&!e.inset?a(p,{vertical:!0},null):void 0}const D=o.value==="split"?a("div",{class:"v-number-input__control"},[a(p,{vertical:!0},null),a(b,{flat:!0,height:"100%",icon:"$plus",tile:!0,tabindex:"-1",onClick:k,onMousedown:v},null)]):e.reverse?void 0:a(g,null,[w(),y()]),R=l["append-inner"]||D,P=o.value==="split"?a("div",{class:"v-number-input__control"},[a(b,{flat:!0,height:"100%",icon:"$minus",tile:!0,tabindex:"-1",onClick:x,onMousedown:v},null),a(p,{vertical:!0},null)]):e.reverse?a(g,null,[y(),w()]):void 0,S=l["prepend-inner"]||P;return a(N,Q({modelValue:t.value,"onUpdate:modelValue":K,onKeydown:z,class:["v-number-input",{"v-number-input--default":o.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":o.value==="split","v-number-input--stacked":o.value==="stacked"},e.class]},f,{style:e.style,inputmode:"decimal"}),{...l,"append-inner":R?function(){var s;for(var u=arguments.length,d=new Array(u),r=0;r<u;r++)d[r]=arguments[r];return a(g,null,[(s=l["append-inner"])==null?void 0:s.call(l,...d),D])}:void 0,"prepend-inner":S?function(){var s;for(var u=arguments.length,d=new Array(u),r=0;r<u;r++)d[r]=arguments[r];return a(g,null,[P,(s=l["prepend-inner"])==null?void 0:s.call(l,...d)])}:void 0})})}});export{_ as V};
